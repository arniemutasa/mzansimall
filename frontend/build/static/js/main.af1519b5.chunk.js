(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{124:function(e,t,c){},157:function(e,t,c){"use strict";c.r(t);var a=c(7),r=c(2),s=c(19),n=c.n(s),i=c(11),l=c.n(i),o=c(17),d=c(13),j=c(9),u=c(21),b=c(8),m=c(16),p=c(18),O=c.n(p),h="LOGIN_REQUEST",x="LOGIN_SUCCESS",f="LOGIN_FAIL",v="REGISTER_USER_REQUEST",g="REGISTER_USER_SUCCESS",N="REGISTER_USER_FAIL",y="LOAD_USER_REQUEST",S="LOAD_USER_SUCCESS",w="LOAD_USER_FAIL",_="LOGOUT_SUCCESS",E="LOGOUT_FAIL",C="UPDATE_PASSWORD_REQUEST",R="UPDATE_PASSWORD_SUCCESS",I="UPDATE_PASSWORD_RESET",P="UPDATE_PASSWORD_FAIL",k="UPDATE_PROFILE_REQUEST",F="UPDATE_PROFILE_SUCCESS",A="UPDATE_PROFILE_RESET",T="UPDATE_PROFILE_FAIL",D="CLEAR_ERRORS",U=function(){return function(){var e=Object(o.a)(l.a.mark((function e(t){var c,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:y}),e.next=4,O.a.get("/api/v1/profile");case 4:c=e.sent,a=c.data,t({type:S,payload:a.user}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:w,payload:e.t0.response.data.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},L=function(e){return function(){var t=Object(o.a)(l.a.mark((function t(c){var a,r,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:C}),a={headers:{"Content-Type":"application/json"}},t.next=5,O.a.put("/api/v1/password/update",e,a);case 5:r=t.sent,s=r.data,c({type:R,payload:s.success}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),c({type:P,payload:t.t0.response.data.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},M=function(){return function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:D});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},q=(c(124),c(1)),$=function(e){var t=e.history,c=Object(r.useState)(""),a=Object(d.a)(c,2),s=a[0],n=a[1];return Object(q.jsx)("form",{onSubmit:function(e){e.preventDefault(),s.trim()?t.push("/search/".concat(s)):t.push("/")},children:Object(q.jsx)("div",{className:"input-group",children:Object(q.jsx)("input",{type:"text",id:"search_field",className:"form-control",placeholder:"Enter Product Name ...",onChange:function(e){n(e.target.value)}})})})},z=function(){var e=Object(m.d)(),t=Object(b.b)(),c=Object(b.c)((function(e){return e.auth})),a=c.user,s=c.loading,n=Object(b.c)((function(e){return e.cart})).cartItems;return Object(q.jsx)(r.Fragment,{children:Object(q.jsxs)("nav",{className:"navbar row",children:[Object(q.jsx)("div",{className:"col-12 col-md-3",children:Object(q.jsx)("div",{className:"navbar-brand",children:Object(q.jsx)(j.b,{to:"/",children:Object(q.jsx)("img",{src:"/images/logo.png",alt:"Mzansimall"})})})}),Object(q.jsx)("div",{className:"col-12 col-md-6 mt-2 mt-md-0",children:Object(q.jsx)(u.b,{render:function(e){var t=e.history;return Object(q.jsx)($,{history:t})}})}),Object(q.jsxs)("div",{className:"col-12 col-md-3 mt-4 mt-md-0 text-center",children:[Object(q.jsxs)(j.b,{to:"/cart",style:{textDecoration:"none"},children:[Object(q.jsx)("span",{id:"cart",className:"ml-3",children:"Cart"}),Object(q.jsx)("span",{className:"ml-1",id:"cart_count",children:n.length})]}),a?Object(q.jsxs)("div",{className:"ml-4 dropdown d-inline",children:[Object(q.jsxs)(j.b,{to:"#",className:"btn dropdown-toggle text-white mr-4",type:"button",id:"dropDownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:[Object(q.jsx)("figure",{className:"avatar avatar-nav",children:Object(q.jsx)("img",{src:a.avatar&&a.avatar.url,alt:a.name,className:"rounded-circle"})}),Object(q.jsx)("span",{children:a.name})]}),Object(q.jsxs)("div",{className:"dropdown-menu","aria-labelledby":"dropDownMenuButton",children:[a&&"admin"===a.role&&Object(q.jsx)(j.b,{className:"dropdown-item",to:"/dashboard",children:"Dashboard"}),Object(q.jsx)(j.b,{className:"dropdown-item",to:"/profile",children:"Profile"}),Object(q.jsx)(j.b,{className:"dropdown-item",to:"/orders/me",children:"Orders"}),Object(q.jsx)(j.b,{className:"dropdown-item text-danger",to:"/logout",onClick:function(){t(function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get("/api/v1/logout");case 3:t({type:_}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),t({type:E,payload:e.t0.response.data.message});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()),e.success("Logged Out Successfully")},children:"Logout"})]})]}):!s&&Object(q.jsxs)(r.Fragment,{children:[Object(q.jsx)(j.b,{to:"/login",className:"btn authbtn",id:"login_btn",children:"Login"}),Object(q.jsx)(j.b,{to:"/register",className:"btn authbtn",id:"login_btn",children:"Register"})]})]})]})})},G=function(){return Object(q.jsx)(r.Fragment,{children:Object(q.jsx)("footer",{className:"py-1",children:Object(q.jsx)("p",{className:"text-center text-white mt-1",children:"Mzansimall - 2021, All Rights Reserved"})})})},Q=c(79),W=c.n(Q),J=c(56),V=(c(130),c(82)),Y=function(e){var t=e.title;return Object(q.jsx)(V.a,{children:Object(q.jsx)("title",{children:"".concat(t," - Mzansi Mall")})})},B="ALL_PRODUCTS_REQUEST",H="ALL_PRODUCTS_SUCCESS",K="ALL_PRODUCTS_FAIL",X="PRODUCT_DETAILS_REQUEST",Z="PRODUCT_DETAILS_SUCCESS",ee="PRODUCT_DETAILS_FAIL",te="NEW_PRODUCT_SUCCESS",ce="NEW_PRODUCT_RESET",ae="NEW_PRODUCT_FAIL",re="ADMIN_PRODUCTS_REQUEST",se="ADMIN_PRODUCTS_SUCCESS",ne="ADMIN_PRODUCTS_FAIL",ie="CLEAR_ERRORS",le=function(){return function(){var e=Object(o.a)(l.a.mark((function e(t){var c,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:re}),e.next=4,O.a.get("/api/v1/admin/products");case 4:c=e.sent,a=c.data,t({type:se,payload:a.products}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:ne,payload:e.t0.response.data.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},oe=function(){return function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:ie});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},de=function(e){var t=e.product,c=e.col;return Object(q.jsxs)("div",{className:"col-sm-12 col-md-6 col-lg-".concat(c," my-3"),children:[Object(q.jsxs)("div",{className:"card p-3 rounded",children:[Object(q.jsx)("img",{className:"card-img-top mx-auto",src:t.images[0].url,alt:t.name}),Object(q.jsxs)("div",{className:"card-body d-flex flex-column",children:[Object(q.jsx)("h5",{className:"card-title",children:Object(q.jsx)(j.b,{to:"/product/".concat(t._id),children:t.name})}),Object(q.jsxs)("div",{className:"ratings mt-auto",children:[Object(q.jsx)("div",{className:"rating-outer",children:Object(q.jsx)("div",{className:"rating-inner",style:{width:"".concat(t.ratings/5*100,"%")}})}),Object(q.jsxs)("span",{id:"no_of_reviews",children:["(",t.numberOfReviews," Reviews)"]})]}),Object(q.jsxs)("p",{className:"card-text",children:["$",t.price]}),Object(q.jsx)(j.b,{to:"/product/".concat(t._id),id:"view_btn",className:"btn btn-block",children:"View Details"})]})]}),Object(q.jsx)("br",{})]})},je=function(){return Object(q.jsx)("div",{className:"loader"})},ue=(0,J.a.createSliderWithTooltip)(J.a.Range),be=function(e){var t=e.match,c=Object(r.useState)(1),a=Object(d.a)(c,2),s=a[0],n=a[1],i=Object(r.useState)([1,1e3]),j=Object(d.a)(i,2),u=j[0],p=j[1],h=Object(r.useState)(""),x=Object(d.a)(h,2),f=x[0],v=x[1],g=Object(m.d)(),N=Object(b.b)(),y=Object(b.c)((function(e){return e.products})),S=y.loading,w=y.products,_=y.productCount,E=y.error,C=y.resultsPerPage,R=t.params.keyword;return Object(r.useEffect)((function(){if(E)return g.error(E);N(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,c=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0;return function(){var r=Object(o.a)(l.a.mark((function r(s){var n,i,o;return l.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,s({type:B}),n="/api/v1/products?keyword=".concat(e,"&page=").concat(t,"&price[lte]=").concat(c[1],"&price[gte]=").concat(c[0]),a&&(n="/api/v1/products?keyword=".concat(e,"&page=").concat(t,"&price[lte]=").concat(c[1],"&price[gte]=").concat(c[0],"&category=").concat(a)),r.next=6,O.a.get(n);case 6:i=r.sent,o=i.data,s({type:H,payload:o}),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),s({type:K,payload:r.t0.response.data.message});case 14:case"end":return r.stop()}}),r,null,[[0,11]])})));return function(e){return r.apply(this,arguments)}}()}(R,s,u,f))}),[N,g,E,s,R,u,f]),Object(q.jsx)(r.Fragment,{children:S?Object(q.jsx)(je,{}):Object(q.jsxs)(r.Fragment,{children:[Object(q.jsx)(Y,{title:"Mzansis Online Store"}),Object(q.jsx)("h1",{id:"products_heading",children:"Latest Products"}),Object(q.jsx)("section",{id:"products",className:"container mt-5",children:Object(q.jsx)("div",{className:"row",children:R?Object(q.jsxs)(r.Fragment,{children:[Object(q.jsx)("div",{className:"col-6 col-md-3 mt-5 mb-5",children:Object(q.jsxs)("div",{className:"px-5",children:[Object(q.jsx)(ue,{marks:{1:"$1",1e3:"$1000"},min:1,max:1e3,defaultValue:[1,1e3],tipFormatter:function(e){return"$".concat(e)},tipProps:{placement:"top",visible:!0},value:u,onChange:function(e){return p(e)}}),Object(q.jsx)("hr",{className:"my-5"}),Object(q.jsxs)("div",{className:"mt-5",children:[Object(q.jsx)("h4",{className:"mb-3 ",children:"Categories"}),Object(q.jsx)("ul",{className:"pl-0",children:["Electronics","Food","Male","Female"].map((function(e){return Object(q.jsx)("li",{style:{cursor:"pointer",listStyleType:"none"},onClick:function(){return v(e)},children:e},e)}))})]})]})}),Object(q.jsx)("div",{className:"col-6 col-md-9",children:Object(q.jsx)("div",{className:"row",children:w.map((function(e){return Object(q.jsx)(de,{product:e,col:4},e._id)}))})})]}):w&&w.map((function(e){return Object(q.jsx)(de,{product:e,col:3},e._id)}))})}),Object(q.jsx)("div",{className:"d-flex justify-content-center mt-5",children:Object(q.jsx)(W.a,{activePage:s,itemsCountPerPage:C,totalItemsCount:_,onChange:function(e){n(e)},nextPageText:"Next",previousPageText:"Previous",firstPageText:"First",lastPageText:"Last",itemClass:"page-item",linkClass:"page-link"})})]})})},me=c(163),pe="ADD_TO_CART",Oe="REMOVE_FROM_CART",he="SAVE_SHIPPING_INFO",xe=function(e,t){return function(){var c=Object(o.a)(l.a.mark((function c(a,r){var s,n;return l.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,O.a.get("/api/v1/products/".concat(e));case 2:s=c.sent,n=s.data,a({type:pe,payload:{product:n.product._id,name:n.product.name,price:n.product.price,image:n.product.images[0].url,stock:n.product.stock,quantity:t}}),localStorage.setItem("cartItems",JSON.stringify(r().cart.cartItems));case 6:case"end":return c.stop()}}),c)})));return function(e,t){return c.apply(this,arguments)}}()};var fe=function(e){var t=e.match,c=Object(r.useState)(1),a=Object(d.a)(c,2),s=a[0],n=a[1],i=Object(b.b)(),j=Object(m.d)(),u=Object(b.c)((function(e){return e.productDetails})),p=u.loading,h=u.error,x=u.product;return Object(r.useEffect)((function(){var e;i((e=t.params.id,function(){var t=Object(o.a)(l.a.mark((function t(c){var a,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:X}),t.next=4,O.a.get("/api/v1/products/".concat(e));case 4:a=t.sent,r=a.data,c({type:Z,payload:r.product}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),c({type:ee,payload:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}())),h&&(j.error(h),i(oe()))}),[i,j,h,t.params.id]),Object(q.jsxs)(r.Fragment,{children:[Object(q.jsx)(Y,{title:x.name}),p?Object(q.jsx)(je,{}):Object(q.jsx)(r.Fragment,{children:Object(q.jsxs)("div",{className:"row f-flex justify-content-around",children:[Object(q.jsx)("div",{className:"col-12 col-lg-5 img-fluid",id:"product_image",children:Object(q.jsx)(me.a,{pause:"hover",children:x.images&&x.images.map((function(e){return Object(q.jsx)(me.a.Item,{children:Object(q.jsx)("img",{className:"d-block 1-100",src:e.url,alt:x.title})},e.public_id)}))})}),Object(q.jsxs)("div",{className:"col-12 col-lg-5 mt-5",children:[Object(q.jsx)("h3",{children:x.name}),Object(q.jsx)("p",{id:"product_id",children:x._id}),Object(q.jsx)("hr",{}),Object(q.jsx)("div",{className:"rating-outer",children:Object(q.jsx)("div",{className:"rating-inner"})}),Object(q.jsxs)("span",{id:"no_of_reviews",children:["(",x.numberOfReviews," Reviews)"]}),Object(q.jsx)("hr",{}),Object(q.jsxs)("p",{id:"product_price",children:["$",x.price]}),Object(q.jsxs)("div",{className:"stockCounter d-inline",children:[Object(q.jsx)("span",{className:"btn btn-danger minus",onClick:function(){var e=document.querySelector(".count");if(!(e.valueAsNumber<=1)){var t=e.valueAsNumber-1;n(t)}},children:"-"}),Object(q.jsx)("input",{type:"number",className:"form-control count d-inline",value:s,readOnly:!0}),Object(q.jsx)("span",{className:"btn btn-primary plus",onClick:function(){console.log(x.stock);var e=document.querySelector(".count");if(!(e.valueAsNumber>=x.stock)){var t=e.valueAsNumber+1;n(t)}},children:"+"})]}),Object(q.jsx)("button",{type:"button",id:"cart_btn",className:"btn btn-primary d-inline ml-4",onClick:function(){i(xe(t.params.id,s)),j.success("Item Added To Cart")},children:"Add to Cart"}),Object(q.jsx)("hr",{}),Object(q.jsxs)("p",{children:["Status:"," ",Object(q.jsx)("span",{id:"stock_status",children:x.stock>0?"In Stock":"Out Of Stock"})]}),Object(q.jsx)("hr",{}),Object(q.jsx)("h4",{className:"mt-2",children:"Description:"}),Object(q.jsx)("p",{children:x.description}),Object(q.jsx)("hr",{}),Object(q.jsxs)("p",{id:"product_seller mb-3",children:["Sold by: ",Object(q.jsx)("strong",{children:x.seller})]}),Object(q.jsx)("button",{id:"review_btn",type:"button",className:"btn btn-primary mt-4","data-toggle":"modal","data-target":"#ratingModal",children:"Submit Your Review"}),Object(q.jsx)("div",{className:"row mt-2 mb-5",children:Object(q.jsx)("div",{className:"rating w-50",children:Object(q.jsx)("div",{className:"modal fade",id:"ratingModal",tabIndex:"-1",role:"dialog","aria-labelledby":"ratingModalLabel","aria-hidden":"true",children:Object(q.jsx)("div",{className:"modal-dialog",role:"document",children:Object(q.jsxs)("div",{className:"modal-content",children:[Object(q.jsxs)("div",{className:"modal-header",children:[Object(q.jsx)("h5",{className:"modal-title",id:"ratingModalLabel",children:"Submit Review"}),Object(q.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(q.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(q.jsxs)("div",{className:"modal-body",children:[Object(q.jsxs)("ul",{className:"stars",children:[Object(q.jsx)("li",{className:"star",children:Object(q.jsx)("i",{className:"fa fa-star"})}),Object(q.jsx)("li",{className:"star",children:Object(q.jsx)("i",{className:"fa fa-star"})}),Object(q.jsx)("li",{className:"star",children:Object(q.jsx)("i",{className:"fa fa-star"})}),Object(q.jsx)("li",{className:"star",children:Object(q.jsx)("i",{className:"fa fa-star"})}),Object(q.jsx)("li",{className:"star",children:Object(q.jsx)("i",{className:"fa fa-star"})})]}),Object(q.jsx)("textarea",{name:"review",id:"review",className:"form-control mt-3"}),Object(q.jsx)("button",{className:"btn my-3 float-right review-btn px-4 text-white","data-dismiss":"modal","aria-label":"Close",children:"Submit"})]})]})})})})})]})]})})]})},ve=function(e){var t=e.history,c=e.location,a=Object(r.useState)(""),s=Object(d.a)(a,2),n=s[0],i=s[1],u=Object(r.useState)(""),p=Object(d.a)(u,2),v=p[0],g=p[1],N=Object(m.d)(),y=Object(b.b)(),S=Object(b.c)((function(e){return e.auth})),w=S.isAuthenticated,_=S.error,E=S.loading,C=c.search?c.search.split("=")[1]:"/";Object(r.useEffect)((function(){w&&t.push(C),_&&(N.error(_),y(M()))}),[y,N,w,_,t,C]);return Object(q.jsx)(r.Fragment,{children:E?Object(q.jsx)(je,{}):Object(q.jsxs)(r.Fragment,{children:[Object(q.jsx)(Y,{title:"Login"}),Object(q.jsx)("div",{className:"row wrapper",children:Object(q.jsx)("div",{className:"col-10 col-lg-5",children:Object(q.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault(),y(function(e,t){return function(){var c=Object(o.a)(l.a.mark((function c(a){var r,s,n;return l.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,a({type:h}),r={headers:{"Content-Type":"application/json"}},c.next=5,O.a.post("/api/v1/login",{email:e,password:t},r);case 5:s=c.sent,n=s.data,a({type:x,payload:n.user}),c.next=13;break;case 10:c.prev=10,c.t0=c.catch(0),a({type:f,payload:c.t0.response.data.message});case 13:case"end":return c.stop()}}),c,null,[[0,10]])})));return function(e){return c.apply(this,arguments)}}()}(n,v))},children:[Object(q.jsx)("h1",{className:"mb-3",children:"Login"}),Object(q.jsxs)("div",{className:"form-group",children:[Object(q.jsx)("label",{htmlFor:"email_field",children:"Email"}),Object(q.jsx)("input",{type:"email",id:"email_field",className:"form-control",value:n,onChange:function(e){return i(e.target.value)}})]}),Object(q.jsxs)("div",{className:"form-group",children:[Object(q.jsx)("label",{htmlFor:"password_field",children:"Password"}),Object(q.jsx)("input",{type:"password",id:"password_field",className:"form-control",value:v,onChange:function(e){return g(e.target.value)}})]}),Object(q.jsx)(j.b,{to:"/password/forgot",className:"float-right mb-4",children:"Forgot Password?"}),Object(q.jsx)("button",{id:"login_button",type:"submit",className:"btn btn-block py-3",children:"LOGIN"}),Object(q.jsx)(j.b,{href:"/register",className:"float-right mt-3",children:"New User?"})]})})})]})})},ge=c(40),Ne=function(e){var t=e.history,c=Object(r.useState)({name:"",email:"",password:""}),s=Object(d.a)(c,2),n=s[0],i=s[1],j=n.name,u=n.email,p=n.password,h=Object(r.useState)(""),x=Object(d.a)(h,2),f=x[0],y=x[1],S=Object(r.useState)("/images/default_avatar.png"),w=Object(d.a)(S,2),_=w[0],E=w[1],C=Object(m.d)(),R=Object(b.b)(),I=Object(b.c)((function(e){return e.auth})),P=I.isAuthenticated,k=I.error,F=I.loading;Object(r.useEffect)((function(){P&&t.push("/"),k&&(C.error(k),R(M()))}),[R,C,P,k,t]);var A=function(e){if("avatar"===e.target.name){var t=new FileReader;t.onload=function(){2===t.readyState&&(E(t.result),y(t.result))},t.readAsDataURL(e.target.files[0])}else i(Object(a.a)(Object(a.a)({},n),{},Object(ge.a)({},e.target.name,e.target.value)))};return Object(q.jsxs)(r.Fragment,{children:[Object(q.jsx)(Y,{title:"Register User"}),Object(q.jsx)("div",{className:"row wrapper",children:Object(q.jsx)("div",{className:"col-10 col-lg-5",children:Object(q.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault();var t,c=new FormData;c.set("name",j),c.set("email",u),c.set("password",p),c.set("avatar",f),R((t=c,function(){var e=Object(o.a)(l.a.mark((function e(c){var a,r,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c({type:v}),a={headers:{"Content-Type":"multipart/form-data"}},e.next=5,O.a.post("/api/v1/register",t,a);case 5:r=e.sent,s=r.data,c({type:g,payload:s.user}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),c({type:N,payload:e.t0.response.data.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))},encType:"multipart/form-data",children:[Object(q.jsx)("h1",{className:"mb-3",children:"Register"}),Object(q.jsxs)("div",{className:"form-group",children:[Object(q.jsx)("label",{htmlFor:"email_field",children:"Name"}),Object(q.jsx)("input",{type:"name",id:"name_field",className:"form-control",name:"name",value:j,onChange:A})]}),Object(q.jsxs)("div",{className:"form-group",children:[Object(q.jsx)("label",{htmlFor:"email_field",children:"Email"}),Object(q.jsx)("input",{type:"email",id:"email_field",className:"form-control",name:"email",value:u,onChange:A})]}),Object(q.jsxs)("div",{className:"form-group",children:[Object(q.jsx)("label",{htmlFor:"password_field",children:"Password"}),Object(q.jsx)("input",{type:"password",id:"password_field",className:"form-control",name:"password",value:p,onChange:A})]}),Object(q.jsxs)("div",{className:"form-group",children:[Object(q.jsx)("label",{htmlFor:"avatar_upload",children:"Avatar"}),Object(q.jsxs)("div",{className:"d-flex align-items-center",children:[Object(q.jsx)("div",{children:Object(q.jsx)("figure",{className:"avatar mr-3 item-rtl",children:Object(q.jsx)("img",{src:_,className:"rounded-circle",alt:"Avatar Preview"})})}),Object(q.jsxs)("div",{className:"custom-file",children:[Object(q.jsx)("input",{type:"file",name:"avatar",className:"custom-file-input",id:"customFile",accept:"images/*",onChange:A}),Object(q.jsx)("label",{className:"custom-file-label",htmlFor:"customFile",children:"Choose Avatar"})]})]})]}),Object(q.jsx)("button",{id:"register_button",type:"submit",className:"btn btn-block py-3",disabled:!!F,children:"REGISTER"})]})})})]})},ye=function(){var e=Object(b.c)((function(e){return e.auth})),t=e.user;e.loading;return Object(q.jsxs)(r.Fragment,{children:[Object(q.jsx)("h2",{className:"mt-5 ml-5",children:"My Profile"}),Object(q.jsxs)("div",{className:"row justify-content-around mt-5 user-info",children:[Object(q.jsxs)("div",{className:"col-12 col-md-3",children:[Object(q.jsx)("figure",{className:"avatar avatar-profile",children:Object(q.jsx)("img",{className:"rounded-circle img-fluid",src:t.avatar.url,alt:t.name})}),Object(q.jsx)("br",{}),Object(q.jsx)(j.b,{to:"/profile/update",id:"edit_profile",className:"btn btn-primary btn-block my-5",children:"Edit Profile"})]}),Object(q.jsxs)("div",{className:"col-12 col-md-5",children:[Object(q.jsx)("h4",{children:"Full Name"}),Object(q.jsx)("p",{children:t.name}),Object(q.jsx)("h4",{children:"Email Address"}),Object(q.jsx)("p",{children:t.email}),"admin"!==t.role&&Object(q.jsx)(j.b,{to:"#",className:"btn btn-danger btn-block mt-5",children:"My Orders"}),Object(q.jsx)(j.b,{to:"/password/update",className:"btn btn-primary btn-block mt-3",children:"Change Password"})]})]})]})},Se=function(e){var t=e.history,c=Object(r.useState)(""),a=Object(d.a)(c,2),s=a[0],n=a[1],i=Object(r.useState)(""),j=Object(d.a)(i,2),u=j[0],p=j[1],h=Object(r.useState)(""),x=Object(d.a)(h,2),f=x[0],v=x[1],g=Object(r.useState)("/images/default_avatar.png"),N=Object(d.a)(g,2),y=N[0],S=N[1],w=Object(m.d)(),_=Object(b.b)(),E=Object(b.c)((function(e){return e.auth})).user,C=Object(b.c)((function(e){return e.user})),R=C.error,I=C.isUpdated,P=C.loading;Object(r.useEffect)((function(){E&&(n(E.name),p(E.email),S(E.avatar.url)),R&&(w.error(R),_(M())),I&&(w.success("User Updated Successfully"),_(U()),t.push("/profile"),_({type:A}))}),[_,w,I,R,t,E]);return Object(q.jsxs)(r.Fragment,{children:[Object(q.jsx)(Y,{title:"Update Profile"}),Object(q.jsx)("div",{className:"row wrapper",children:Object(q.jsx)("div",{className:"col-10 col-lg-5",children:Object(q.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault();var t,c=new FormData;c.set("name",s),c.set("email",u),c.set("avatar",f),_((t=c,function(){var e=Object(o.a)(l.a.mark((function e(c){var a,r,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c({type:k}),a={headers:{"Content-Type":"multipart/form-data"}},e.next=5,O.a.put("/api/v1/profile/update",t,a);case 5:r=e.sent,s=r.data,c({type:F,payload:s.success}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),c({type:T,payload:e.t0.response.data.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))},encType:"multipart/form-data",children:[Object(q.jsx)("h1",{className:"mt-2 mb-5",children:"Update Profile"}),Object(q.jsxs)("div",{className:"form-group",children:[Object(q.jsx)("label",{htmlFor:"email_field",children:"Name"}),Object(q.jsx)("input",{type:"name",id:"name_field",className:"form-control",name:"name",value:s,onChange:function(e){return n(e.target.value)}})]}),Object(q.jsxs)("div",{className:"form-group",children:[Object(q.jsx)("label",{htmlFor:"email_field",children:"Email"}),Object(q.jsx)("input",{type:"email",id:"email_field",className:"form-control",name:"email",value:u,onChange:function(e){return p(e.target.value)}})]}),Object(q.jsxs)("div",{className:"form-group",children:[Object(q.jsx)("label",{htmlFor:"avatar_upload",children:"Avatar"}),Object(q.jsxs)("div",{className:"d-flex align-items-center",children:[Object(q.jsx)("div",{children:Object(q.jsx)("figure",{className:"avatar mr-3 item-rtl",children:Object(q.jsx)("img",{src:y,className:"rounded-circle",alt:"Avatar Preview"})})}),Object(q.jsxs)("div",{className:"custom-file",children:[Object(q.jsx)("input",{type:"file",name:"avatar",className:"custom-file-input",id:"customFile",accept:"images/*",onChange:function(e){var t=new FileReader;t.onload=function(){2===t.readyState&&(S(t.result),v(t.result))},t.readAsDataURL(e.target.files[0])}}),Object(q.jsx)("label",{className:"custom-file-label",htmlFor:"customFile",children:"Choose Avatar"})]})]})]}),Object(q.jsx)("button",{type:"submit",className:"btn update-btn btn-block mt-4 mb-3",disabled:!!P,children:"Update"})]})})})]})},we=function(e){var t=e.history,c=Object(r.useState)(""),a=Object(d.a)(c,2),s=a[0],n=a[1],i=Object(r.useState)(""),l=Object(d.a)(i,2),o=l[0],j=l[1],u=Object(m.d)(),p=Object(b.b)(),O=Object(b.c)((function(e){return e.user})),h=O.error,x=O.isUpdated,f=O.loading;Object(r.useEffect)((function(){h&&(u.error(h),p(M())),x&&(u.success("Password Updated Successfully"),t.push("/profile"),p({type:I}))}),[p,u,x,h,t]);return Object(q.jsxs)(r.Fragment,{children:[Object(q.jsx)(Y,{title:"Change Password"}),Object(q.jsx)("div",{className:"row wrapper",children:Object(q.jsx)("div",{className:"col-10 col-lg-5",children:Object(q.jsxs)("form",{className:"shadow-lg",onSubmit:L,children:[Object(q.jsx)("h1",{className:"mt-2 mb-5",children:"Update Password"}),Object(q.jsxs)("div",{className:"form-group",children:[Object(q.jsx)("label",{htmlFor:"old_password_field",children:"Old Password"}),Object(q.jsx)("input",{type:"password",id:"old_password_field",className:"form-control",value:s,onChange:function(e){return n(e.target.value)}})]}),Object(q.jsxs)("div",{className:"form-group",children:[Object(q.jsx)("label",{htmlFor:"new_password_field",children:"New Password"}),Object(q.jsx)("input",{type:"password",id:"new_password_field",className:"form-control",value:o,onChange:function(e){return j(e.target.value)}})]}),Object(q.jsx)("button",{type:"submit",className:"btn update-btn btn-block mt-4 mb-3",disabled:!!f,children:"Update Password"})]})})})]})},_e=function(e){var t=e.history,c=Object(b.b)(),a=Object(b.c)((function(e){return e.cart})).cartItems,s=function(e){c(function(e){return function(){var t=Object(o.a)(l.a.mark((function t(c,a){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c({type:Oe,payload:e}),localStorage.setItem("cartItems",JSON.stringify(a().cart.cartItems));case 2:case"end":return t.stop()}}),t)})));return function(e,c){return t.apply(this,arguments)}}()}(e))};return Object(q.jsxs)(r.Fragment,{children:[Object(q.jsx)(Y,{title:"Your Shopping Cart"}),0===a.length?Object(q.jsx)("h2",{className:"mt-5",children:"Your Cart is Empty"}):Object(q.jsxs)(r.Fragment,{children:[Object(q.jsxs)("h2",{className:"mt-5",children:["Your Cart: ",Object(q.jsxs)("b",{children:[a.length," items"]})]}),Object(q.jsxs)("div",{className:"row d-flex justify-content-between",children:[Object(q.jsx)("div",{className:"col-12 col-lg-8",children:a.map((function(e){return Object(q.jsxs)(r.Fragment,{children:[Object(q.jsx)("hr",{}),Object(q.jsx)("div",{className:"cart-item",children:Object(q.jsxs)("div",{className:"row",children:[Object(q.jsx)("div",{className:"col-4 col-lg-3",children:Object(q.jsx)("img",{src:e.image,alt:e.name,height:"90",width:"115"})}),Object(q.jsx)("div",{className:"col-5 col-lg-3",children:Object(q.jsx)(j.b,{to:"/products/".concat(e.product),children:e.name})}),Object(q.jsx)("div",{className:"col-4 col-lg-2 mt-4 mt-lg-0",children:Object(q.jsxs)("p",{id:"card_item_price",children:["$",e.price]})}),Object(q.jsx)("div",{className:"col-4 col-lg-3 mt-4 mt-lg-0",children:Object(q.jsxs)("div",{className:"stockCounter d-inline",children:[Object(q.jsx)("span",{className:"btn btn-danger minus",onClick:function(t){return function(e,t,a){var r=t-1;r<=1||c(xe(e,r))}(e.product,e.quantity,e.stock)},children:"-"}),Object(q.jsx)("input",{type:"number",className:"form-control count d-inline",value:e.quantity,readOnly:!0}),Object(q.jsx)("span",{className:"btn btn-primary plus",onClick:function(t){return function(e,t,a){var r=t+1;r>=a||c(xe(e,r))}(e.product,e.quantity,e.stock)},children:"+"})]})}),Object(q.jsx)("div",{className:"col-4 col-lg-1 mt-4 mt-lg-0",children:Object(q.jsx)("i",{id:"delete_cart_item",className:"fa fa-trash btn btn-danger",onClick:function(t){s(e.product)}})})]})},e.product),Object(q.jsx)("hr",{})]})}))}),Object(q.jsx)("div",{className:"col-12 col-lg-3 my-4",children:Object(q.jsxs)("div",{id:"order_summary",children:[Object(q.jsx)("h4",{children:"Order Summary"}),Object(q.jsx)("hr",{}),Object(q.jsxs)("p",{children:["Subtotal:"," ",Object(q.jsxs)("span",{className:"order-summary-values",children:[a.reduce((function(e,t){return e+Number(t.quantity)}),0)," ","(Units)"]})]}),Object(q.jsxs)("p",{children:["Est. total:"," ",Object(q.jsxs)("span",{className:"order-summary-values",children:["$"," ",a.reduce((function(e,t){return e+t.quantity*t.price}),0).toFixed(2)]})]}),Object(q.jsx)("hr",{}),Object(q.jsx)("button",{id:"checkout_btn",className:"btn btn-primary btn-block",onClick:function(){t.push("/login?redirect=shipping")},children:"Check out"})]})})]})]})]})},Ee=c(88),Ce=function(e){var t=e.shipping,c=e.confirmOrder,a=e.payment;return Object(q.jsxs)("div",{className:"checkout-progress d-flex justify-content-center mt-5",children:[t?Object(q.jsxs)(j.b,{to:"shipping",className:"float-right",children:[Object(q.jsx)("div",{className:"triangle2-active"}),Object(q.jsx)("div",{className:"step active-step",children:"Shipping"}),Object(q.jsx)("div",{className:"triangle-active"})]}):Object(q.jsxs)(j.b,{to:"#!",disabled:!0,children:[Object(q.jsx)("div",{className:"triangle2-incomplete"}),Object(q.jsx)("div",{className:"step incomplete",children:"Shipping"}),Object(q.jsx)("div",{className:"triangle-incomplete"})]}),c?Object(q.jsxs)(j.b,{to:"/order/confirm",className:"float-right",children:[Object(q.jsx)("div",{className:"triangle2-active"}),Object(q.jsx)("div",{className:"step active-step",children:"Confirm Order"}),Object(q.jsx)("div",{className:"triangle-active"})]}):Object(q.jsxs)(j.b,{to:"#!",disabled:!0,children:[Object(q.jsx)("div",{className:"triangle2-incomplete"}),Object(q.jsx)("div",{className:"step incomplete",children:"Confirm Order"}),Object(q.jsx)("div",{className:"triangle-incomplete"})]}),a?Object(q.jsxs)(j.b,{to:"/payment",className:"float-right",children:[Object(q.jsx)("div",{className:"triangle2-active"}),Object(q.jsx)("div",{className:"step active-step",children:"Payment"}),Object(q.jsx)("div",{className:"triangle-active"})]}):Object(q.jsxs)(j.b,{to:"#!",disabled:!0,children:[Object(q.jsx)("div",{className:"triangle2-incomplete"}),Object(q.jsx)("div",{className:"step incomplete",children:"Payment"}),Object(q.jsx)("div",{className:"triangle-incomplete"})]})]})},Re=function(e){var t=e.history,c=Object.values(Ee.countries),a=Object(b.c)((function(e){return e.cart})).shippingInfo,s=Object(r.useState)(a.address),n=Object(d.a)(s,2),i=n[0],j=n[1],u=Object(r.useState)(a.city),m=Object(d.a)(u,2),p=m[0],O=m[1],h=Object(r.useState)(a.postalCode),x=Object(d.a)(h,2),f=x[0],v=x[1],g=Object(r.useState)(a.phone),N=Object(d.a)(g,2),y=N[0],S=N[1],w=Object(r.useState)(a.country),_=Object(d.a)(w,2),E=_[0],C=_[1],R=Object(b.b)();return Object(q.jsxs)(r.Fragment,{children:[Object(q.jsx)(Y,{title:"Shipping"}),Object(q.jsx)(Ce,{shipping:!0}),Object(q.jsx)("div",{className:"col-10 col-lg-5",children:Object(q.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){var c;e.preventDefault(),R((c={address:i,city:p,phone:y,postalCode:f,country:E},function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:he,payload:c}),localStorage.setItem("shippingInfo",JSON.stringify(c));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),t.push("/confirm")},children:[Object(q.jsx)("h1",{className:"mb-4",children:"Shipping Info"}),Object(q.jsxs)("div",{className:"form-group",children:[Object(q.jsx)("label",{htmlFor:"address_field",children:"Address"}),Object(q.jsx)("input",{type:"text",id:"address_field",className:"form-control",value:i,onChange:function(e){j(e.target.value)},required:!0})]}),Object(q.jsxs)("div",{className:"form-group",children:[Object(q.jsx)("label",{htmlFor:"city_field",children:"City"}),Object(q.jsx)("input",{type:"text",id:"city_field",className:"form-control",value:p,onChange:function(e){O(e.target.value)},required:!0})]}),Object(q.jsxs)("div",{className:"form-group",children:[Object(q.jsx)("label",{htmlFor:"phone_field",children:"Phone No"}),Object(q.jsx)("input",{type:"phone",id:"phone_field",className:"form-control",value:y,onChange:function(e){S(e.target.value)},required:!0})]}),Object(q.jsxs)("div",{className:"form-group",children:[Object(q.jsx)("label",{htmlFor:"postal_code_field",children:"Postal Code"}),Object(q.jsx)("input",{type:"number",id:"postal_code_field",className:"form-control",value:f,onChange:function(e){v(e.target.value)},required:!0})]}),Object(q.jsxs)("div",{className:"form-group",children:[Object(q.jsx)("label",{htmlFor:"country_field",children:"Country"}),Object(q.jsx)("select",{id:"country_field",className:"form-control",value:E,onChange:function(e){C(e.target.value)},required:!0,children:c.map((function(e){return Object(q.jsx)("option",{value:e.name,children:e.name},e.name)}))})]}),Object(q.jsx)("button",{id:"shipping_btn",type:"submit",className:"btn btn-block py-3",children:"CONTINUE"})]})})]})},Ie=function(e){var t=e.history,c=Object(b.c)((function(e){return e.cart})),a=c.cartItems,s=c.shippingInfo,n=Object(b.c)((function(e){return e.auth})).user,i=Number(a.reduce((function(e,t){return e+t.price*t.quantity}),0).toFixed(2)),l=i>200?0:25,o=Number((.145*i).toFixed(2)),d=Number((i+l+o).toFixed(2));return Object(q.jsxs)(r.Fragment,{children:[Object(q.jsx)(Y,{title:"Confirm Order"}),Object(q.jsx)(Ce,{shipping:!0,confirmOrder:!0}),Object(q.jsxs)("div",{className:"row d-flex justify-content-between",children:[Object(q.jsxs)("div",{className:"col-12 col-lg-8 mt-5 order-confirm",children:[Object(q.jsx)("h4",{className:"mb-3",children:"Shipping Info"}),Object(q.jsxs)("p",{children:[Object(q.jsx)("b",{children:"Name:"})," ",n&&n.name]}),Object(q.jsxs)("p",{children:[Object(q.jsx)("b",{children:"Phone:"})," ",s.phone]}),Object(q.jsxs)("p",{className:"mb-4",children:[Object(q.jsx)("b",{children:"Address:"})," ","".concat(s.address,", ").concat(s.city,", ").concat(s.postalCode,", ").concat(s.country),","]}),Object(q.jsx)("hr",{}),Object(q.jsx)("h4",{className:"mt-4",children:"Your Cart Items:"}),a?a.map((function(e){return Object(q.jsxs)(r.Fragment,{children:[Object(q.jsx)("hr",{}),Object(q.jsx)("div",{className:"cart-item my-1",children:Object(q.jsxs)("div",{className:"row",children:[Object(q.jsx)("div",{className:"col-4 col-lg-2",children:Object(q.jsx)("img",{src:e.image,alt:e.name,height:"45",width:"65"})}),Object(q.jsx)("div",{className:"col-5 col-lg-6",children:Object(q.jsx)(j.b,{to:"#",children:e.name})}),Object(q.jsx)("div",{className:"col-4 col-lg-4 mt-4 mt-lg-0",children:Object(q.jsxs)("p",{children:[e.quantity," x $",e.price," ="," ",Object(q.jsxs)("b",{children:["$",e.quantity*e.price]})]})})]})},e.product),Object(q.jsx)("hr",{})]})})):Object(q.jsx)(r.Fragment,{children:Object(q.jsx)("div",{children:"No Items In Cart"})})]}),Object(q.jsx)("div",{className:"col-12 col-lg-3 my-4",children:Object(q.jsxs)("div",{id:"order_summary",children:[Object(q.jsx)("h4",{children:"Order Summary"}),Object(q.jsx)("hr",{}),Object(q.jsxs)("p",{children:["Subtotal:"," ",Object(q.jsxs)("span",{className:"order-summary-values",children:["$",i]})]}),Object(q.jsxs)("p",{children:["Shipping:"," ",Object(q.jsxs)("span",{className:"order-summary-values",children:["$",l]})]}),Object(q.jsxs)("p",{children:["Tax: ",Object(q.jsxs)("span",{className:"order-summary-values",children:["$",o]})]}),Object(q.jsx)("hr",{}),Object(q.jsxs)("p",{children:["Total: ",Object(q.jsxs)("span",{className:"order-summary-values",children:["$",d]})]}),Object(q.jsx)("hr",{}),Object(q.jsx)("button",{id:"checkout_btn",className:"btn btn-primary btn-block",onClick:function(){var e={subTotal:i,shippingPrice:l,taxPrice:o,totalPrice:d};sessionStorage.setItem("orderInfo",JSON.stringify(e)),t.push("/payment")},children:"Proceed to Payment"})]})})]})]})},Pe="CREATE_ORDER_REQUEST",ke="CREATE_ORDER_SUCCESS",Fe="CREATE_ORDER_FAIL",Ae="USER_ORDERS_REQUEST",Te="USER_ORDERS_SUCCESS",De="USER_ORDERS_FAIL",Ue="ORDER_DETAILS_REQUEST",Le="ORDER_DETAILS_SUCCESS",Me="ORDER_DETAILS_FAIL",qe="CLEAR_ERRORS",$e=function(e){return function(){var t=Object(o.a)(l.a.mark((function t(c,a){var r,s,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:Pe}),r={header:{"Content-Type":"application/json"}},t.next=5,O.a.post("/api/v1/order/new",e,r);case 5:s=t.sent,n=s.data,c({type:ke,payload:n}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),c({type:Fe,payload:t.t0.response.data.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,c){return t.apply(this,arguments)}}()},ze=function(){return function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:qe});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Ge=c(26),Qe={style:{base:{fontSize:"16px"},invalid:{color:"#9e2146"}}},We=function(e){var t=e.history,c=Object(m.d)(),a=Object(Ge.useStripe)(),s=Object(Ge.useElements)(),n=Object(b.b)(),i=Object(b.c)((function(e){return e.auth})).user,d=Object(b.c)((function(e){return e.cart})),j=d.cartItems,u=d.shippingInfo,p=Object(b.c)((function(e){return e.newOrder})).error;Object(r.useEffect)((function(){p&&(c.error(p),n(ze()))}),[n,c,p]);var h={orderItems:j,shippingInfo:u},x=JSON.parse(sessionStorage.getItem("orderInfo"));x&&(h.subTotal=x.subTotal,h.shippingPrice=x.shippingPrice,h.taxPrice=x.taxPrice,h.totalPrice=x.totalPrice);var f={amount:Math.round(100*x.totalPrice)},v=function(){var e=Object(o.a)(l.a.mark((function e(r){var o,d,j,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),document.querySelector("#pay_btn").disabled=!0,e.prev=2,d={headers:{"Content-Type":"application/json"}},e.next=6,O.a.post("/api/v1/payment/process",f,d);case 6:if(o=e.sent,j=o.data.client_secret,a&&s){e.next=10;break}return e.abrupt("return");case 10:return e.next=12,a.confirmCardPayment(j,{payment_method:{card:s.getElement(Ge.CardNumberElement),billing_details:{name:i.name,email:i.email}}});case 12:(u=e.sent).error?(c.error(u.error.message),document.querySelector("#pay_btn").disabled=!1):"succeeded"===u.paymentIntent.status?(h.paymentInfo={id:u.paymentIntent.id,status:u.paymentIntent.status},n($e(h)),t.push("/success")):c.error("Payment Unsuccessful"),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(2),document.querySelector("#pay_btn").disabled=!1,c.error(e.t0.response.data.message);case 20:case"end":return e.stop()}}),e,null,[[2,16]])})));return function(t){return e.apply(this,arguments)}}();return Object(q.jsxs)(r.Fragment,{children:[Object(q.jsx)(Y,{title:"Process Payment"}),Object(q.jsx)(Ce,{shipping:!0,confirmOrder:!0,payment:!0}),Object(q.jsx)("div",{className:"row wrapper",children:Object(q.jsx)("div",{className:"col-10 col-lg-5",children:Object(q.jsxs)("form",{className:"shadow-lg",onSubmit:v,children:[Object(q.jsx)("h1",{className:"mb-4",children:"Card Info"}),Object(q.jsxs)("div",{className:"form-group",children:[Object(q.jsx)("label",{htmlFor:"card_num_field",children:"Card Number"}),Object(q.jsx)(Ge.CardNumberElement,{type:"text",id:"card_num_field",className:"form-control",options:Qe})]}),Object(q.jsxs)("div",{className:"form-group",children:[Object(q.jsx)("label",{htmlFor:"card_exp_field",children:"Card Expiry"}),Object(q.jsx)(Ge.CardExpiryElement,{type:"text",id:"card_exp_field",className:"form-control",options:Qe})]}),Object(q.jsxs)("div",{className:"form-group",children:[Object(q.jsx)("label",{htmlFor:"card_cvc_field",children:"Card CVC"}),Object(q.jsx)(Ge.CardCvcElement,{type:"text",id:"card_cvc_field",className:"form-control",options:Qe})]}),Object(q.jsxs)("button",{id:"pay_btn",type:"submit",className:"btn btn-block py-3",children:["Pay ",": $".concat(x.totalPrice)]})]})})})]})},Je=function(){return Object(q.jsxs)(r.Fragment,{children:[Object(q.jsx)(Y,{title:"Order Success"}),Object(q.jsx)("div",{className:"row justify-content-center",children:Object(q.jsxs)("div",{className:"col-6 mt-5 text-center",children:[Object(q.jsx)("img",{className:"my-5 img-fluid d-block mx-auto",src:"https://freepngimg.com/thumb/success/6-2-success-png-image.png",alt:"Order Success",width:"200",height:"200"}),Object(q.jsx)("h2",{children:"Your Order has been placed successfully."}),Object(q.jsx)(j.b,{to:"/orders/me",children:"Go to Orders"})]})})]})},Ve=c(44),Ye=function(){var e=Object(m.d)(),t=Object(b.b)(),c=Object(b.c)((function(e){return e.userOrders})),a=c.loading,s=c.error,n=c.orders;Object(r.useEffect)((function(){t(function(){var e=Object(o.a)(l.a.mark((function e(t){var c,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:Ae}),e.next=4,O.a.get("/api/v1/orders/me");case 4:c=e.sent,a=c.data,t({type:Te,payload:a.orders}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:De});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()),s&&(e.error(s),t(ze()))}),[t,e,s]);return Object(q.jsxs)(r.Fragment,{children:[Object(q.jsx)(Y,{title:"My Orders"}),Object(q.jsx)("h1",{className:"mt-5",children:"My Orders"}),a?Object(q.jsx)(je,{}):Object(q.jsx)(Ve.c,{data:function(){var e={columns:[{label:"Order ID",field:"id",sort:"asc"},{label:"Number of Items",field:"numOfItems",sort:"asc"},{label:"Amount",field:"amount",sort:"asc"},{label:"Status",field:"status",sort:"asc"},{label:"Actions",field:"actions",sort:"asc"}],rows:[]};return n.forEach((function(t){e.rows.push({id:t._id,numOfItems:t.orderItems.length,amount:"$".concat(t.totalPrice),status:t.orderStatus&&String(t.orderStatus).includes("Delivered")?Object(q.jsx)("p",{style:{color:"green"},children:t.orderStatus}):Object(q.jsx)("p",{style:{color:"red"},children:t.orderStatus}),actions:Object(q.jsx)(j.b,{to:"/order/".concat(t._id),children:Object(q.jsx)("i",{className:"fa fa-info-circle"})})})})),e}(),className:"px-3",bordered:!0,striped:!0,hover:!0})]})},Be=function(e){var t=e.match,c=Object(m.d)(),a=Object(b.b)(),s=Object(b.c)((function(e){return e.orderDetails})),n=s.loading,i=s.error,d=s.order,u=Object(b.c)((function(e){return e.auth})).user,p=d.shippingInfo,h=d.orderItems,x=d.paymentInfo,f=d.totalPrice,v=d.orderStatus;return Object(r.useEffect)((function(){var e;a((e=t.params.id,function(){var t=Object(o.a)(l.a.mark((function t(c){var a,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.prev=1,c({type:Ue}),t.next=5,O.a.get("/api/v1/order/".concat(e));case 5:a=t.sent,r=a.data,c({type:Le,payload:r.order}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),c({type:Me,payload:t.t0.response.data.message});case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}())),i&&(i.alert(i),a(ze()))}),[a,c,i,t.params.id]),Object(q.jsxs)(r.Fragment,{children:[Object(q.jsx)(Y,{title:"Order Details"}),n?Object(q.jsx)(r.Fragment,{}):Object(q.jsx)(r.Fragment,{children:Object(q.jsx)("div",{className:"row d-flex justify-content-between",children:Object(q.jsxs)("div",{className:"col-12 col-lg-8 mt-5 order-details",children:[Object(q.jsxs)("h1",{className:"my-5",children:["Order ",d._id]}),Object(q.jsx)("h4",{className:"mb-4",children:"Shipping Info"}),Object(q.jsxs)("p",{children:[Object(q.jsx)("b",{children:"Name:"})," ",u.name]}),Object(q.jsxs)("p",{children:[Object(q.jsx)("b",{children:"Phone:"})," 111 111 1111"]}),Object(q.jsxs)("p",{className:"mb-4",children:[Object(q.jsx)("b",{children:"Address:"}),p.address,", ",p.city,","," ",p.country]}),Object(q.jsxs)("p",{children:[Object(q.jsx)("b",{children:"Amount:"})," $",f]}),Object(q.jsx)("hr",{}),Object(q.jsx)("h4",{className:"my-4",children:"Payment"}),Object(q.jsx)("p",{className:"greenColor",children:Object(q.jsx)("b",{children:x.status})}),Object(q.jsx)("h4",{className:"my-4",children:"Order Status:"}),Object(q.jsx)("p",{className:"greenColor",children:Object(q.jsx)("b",{children:v})}),Object(q.jsx)("h4",{className:"my-4",children:"Order Items:"}),Object(q.jsx)("hr",{}),h&&h.map((function(e){return Object(q.jsxs)(r.Fragment,{children:[Object(q.jsx)("div",{className:"cart-item my-1",children:Object(q.jsxs)("div",{className:"row my-5",children:[Object(q.jsx)("div",{className:"col-4 col-lg-2",children:Object(q.jsx)("img",{src:e.image,alt:e.name,height:"45",width:"65"})}),Object(q.jsx)("div",{className:"col-5 col-lg-5",children:Object(q.jsx)(j.b,{to:"/products/".concat(e.product),children:e.name})}),Object(q.jsx)("div",{className:"col-4 col-lg-2 mt-4 mt-lg-0",children:Object(q.jsxs)("p",{children:["$",e.price]})}),Object(q.jsx)("div",{className:"col-4 col-lg-3 mt-4 mt-lg-0",children:Object(q.jsxs)("p",{children:[e.quantity," Piece(s)"]})})]})},e.product),Object(q.jsx)("hr",{})]})}))]})})})]})},He=function(){return Object(q.jsx)("div",{className:"sidebar-wrapper",children:Object(q.jsx)("nav",{id:"sidebar",children:Object(q.jsxs)("ul",{className:"list-unstyled components",children:[Object(q.jsx)("li",{children:Object(q.jsxs)(j.b,{to:"/dashboard",children:[Object(q.jsx)("i",{className:"fas fa-chart-line"})," Dashboard"]})}),Object(q.jsxs)("li",{children:[Object(q.jsxs)("a",{href:"#productSubmenu","data-toggle":"collapse","aria-expanded":"false",className:"dropdown-toggle",children:[Object(q.jsx)("i",{className:"fa fa-product-hunt"})," Products"]}),Object(q.jsxs)("ul",{className:"collapse list-unstyled",id:"productSubmenu",children:[Object(q.jsx)("li",{children:Object(q.jsxs)(j.b,{to:"/admin/products",children:[Object(q.jsx)("i",{className:"fa fa-clipboard"})," All"]})}),Object(q.jsx)("li",{children:Object(q.jsxs)(j.b,{to:"/admin/product",children:[Object(q.jsx)("i",{className:"fa fa-plus"})," Create"]})})]})]}),Object(q.jsx)("li",{children:Object(q.jsxs)(j.b,{to:"/orders/me",children:[Object(q.jsx)("i",{className:"fa fa-shopping-basket"})," Orders"]})}),Object(q.jsx)("li",{children:Object(q.jsxs)(j.b,{to:"/admin/users",children:[Object(q.jsx)("i",{className:"fa fa-users"})," Users"]})})]})})})},Ke=function(){var e=Object(b.b)(),t=Object(b.c)((function(e){return e.products})).products,c=0;return t.forEach((function(e){0===e.stock&&(c+=1)})),Object(r.useEffect)((function(){e(le())}),[e]),Object(q.jsxs)(r.Fragment,{children:[Object(q.jsx)("div",{className:"col-12 col-md-2",children:Object(q.jsx)(He,{})}),Object(q.jsxs)("div",{className:"col-12 col-md-10",children:[Object(q.jsx)("h1",{className:"my-4",children:"Dashboard"}),Object(q.jsx)("div",{className:"row pr-4",children:Object(q.jsx)("div",{className:"col-xl-12 col-sm-12 mb-3",children:Object(q.jsx)("div",{className:"card text-white bg-primary o-hidden h-100",children:Object(q.jsx)("div",{className:"card-body",children:Object(q.jsxs)("div",{className:"text-center card-font-size",children:["Total Amount",Object(q.jsx)("br",{})," ",Object(q.jsx)("b",{children:"$4567"})]})})})})}),Object(q.jsxs)("div",{className:"row pr-4",children:[Object(q.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",children:Object(q.jsxs)("div",{className:"card text-white bg-success o-hidden h-100",children:[Object(q.jsx)("div",{className:"card-body",children:Object(q.jsxs)("div",{className:"text-center card-font-size",children:["Products",Object(q.jsx)("br",{})," ",Object(q.jsx)("b",{children:t&&t.length})]})}),Object(q.jsxs)(j.b,{className:"card-footer text-white clearfix small z-1",to:"/admin/products",children:[Object(q.jsx)("span",{className:"float-left",children:"View Details"}),Object(q.jsx)("span",{className:"float-right",children:Object(q.jsx)("i",{className:"fa fa-angle-right"})})]})]})}),Object(q.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",children:Object(q.jsxs)("div",{className:"card text-white bg-danger o-hidden h-100",children:[Object(q.jsx)("div",{className:"card-body",children:Object(q.jsxs)("div",{className:"text-center card-font-size",children:["Orders",Object(q.jsx)("br",{})," ",Object(q.jsx)("b",{children:"125"})]})}),Object(q.jsxs)(j.b,{className:"card-footer text-white clearfix small z-1",to:"/admin/orders",children:[Object(q.jsx)("span",{className:"float-left",children:"View Details"}),Object(q.jsx)("span",{className:"float-right",children:Object(q.jsx)("i",{className:"fa fa-angle-right"})})]})]})}),Object(q.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",children:Object(q.jsxs)("div",{className:"card text-white bg-info o-hidden h-100",children:[Object(q.jsx)("div",{className:"card-body",children:Object(q.jsxs)("div",{className:"text-center card-font-size",children:["Users",Object(q.jsx)("br",{})," ",Object(q.jsx)("b",{children:"45"})]})}),Object(q.jsxs)(j.b,{className:"card-footer text-white clearfix small z-1",to:"/admin/users",children:[Object(q.jsx)("span",{className:"float-left",children:"View Details"}),Object(q.jsx)("span",{className:"float-right",children:Object(q.jsx)("i",{className:"fa fa-angle-right"})})]})]})}),Object(q.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",children:Object(q.jsx)("div",{className:"card text-white bg-warning o-hidden h-100",children:Object(q.jsx)("div",{className:"card-body",children:Object(q.jsxs)("div",{className:"text-center card-font-size",children:["Out of Stock",Object(q.jsx)("br",{})," ",Object(q.jsx)("b",{children:c})]})})})})]})]})]})},Xe=function(e){e.history;var t=Object(m.d)(),c=Object(b.b)(),a=Object(b.c)((function(e){return e.products})),s=a.loading,n=a.error,i=a.products;Object(r.useEffect)((function(){c(le()),n&&(t.error(n),c(oe()))}),[c,t,n]);return Object(q.jsxs)(r.Fragment,{children:[Object(q.jsx)(Y,{title:"All Products"}),Object(q.jsxs)("div",{className:"row",children:[Object(q.jsx)("div",{className:"col-12 col-md-2",children:Object(q.jsx)(He,{})}),Object(q.jsx)("div",{className:"col-12 col-md-10",children:Object(q.jsxs)(r.Fragment,{children:[Object(q.jsx)("h1",{className:"my-5",children:"All Products"}),s?Object(q.jsx)(je,{}):Object(q.jsx)(r.Fragment,{children:Object(q.jsx)(Ve.c,{data:function(){var e={columns:[{label:"ID",field:"id",sort:"asc"},{label:"Name",field:"name",sort:"asc"},{label:"Price",field:"price",sort:"asc"},{label:"Stock",field:"stock",sort:"asc"},{label:"Actions",field:"actions"}],rows:[]};return i.forEach((function(t){e.rows.push({id:t._id,name:t.name,price:"$".concat(t.price),stock:t.stock>0?Object(q.jsx)("p",{style:{color:"green"},children:t.stock}):Object(q.jsx)("p",{style:{color:"red"},children:t.stock}),actions:Object(q.jsx)(j.b,{to:"/admin/products/".concat(t._id),children:Object(q.jsx)("i",{className:"fa fa-pencil"})})})})),e}(),className:"px-3",bordered:!0,striped:!0,hover:!0})})]})})]})]})},Ze=c(34),et=function(e){var t=e.history,c=Object(r.useState)(""),a=Object(d.a)(c,2),s=a[0],n=a[1],i=Object(r.useState)(""),j=Object(d.a)(i,2),u=j[0],p=j[1],h=Object(r.useState)(0),x=Object(d.a)(h,2),f=x[0],v=x[1],g=Object(r.useState)(""),N=Object(d.a)(g,2),y=N[0],S=N[1],w=Object(r.useState)(0),_=Object(d.a)(w,2),E=_[0],C=_[1],R=Object(r.useState)(""),I=Object(d.a)(R,2),P=I[0],k=I[1],F=Object(r.useState)([]),A=Object(d.a)(F,2),T=A[0],D=A[1],U=Object(r.useState)([]),L=Object(d.a)(U,2),M=L[0],$=L[1],z=Object(b.b)(),G=Object(m.d)(),Q=Object(b.c)((function(e){return e.newProduct})),W=Q.loading,J=Q.error,V=Q.success;Object(r.useEffect)((function(){J&&(G.error(J),z(oe)),V&&(t.push("/admin/products"),G.success("Product Created Successfully"),z({type:ce}))}),[G,J,z,V,t]);return Object(q.jsxs)(r.Fragment,{children:[Object(q.jsx)(Y,{title:"Create Product"}),Object(q.jsxs)("div",{className:"row",children:[Object(q.jsx)("div",{className:"col-12 col-md-2",children:Object(q.jsx)(He,{})}),Object(q.jsx)("div",{className:"col-12 col-md-10",children:Object(q.jsxs)(r.Fragment,{children:[Object(q.jsx)("h1",{className:"my-5",children:"Create Product"}),Object(q.jsx)("div",{className:"wrapper my-5",children:Object(q.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault();var t,c=new FormData;c.set("name",s),c.set("description",u),c.set("price",f),c.set("category",y),c.set("stock",E),c.set("seller",P),T.forEach((function(e){c.append("images",e)})),z((t=c,function(){var e=Object(o.a)(l.a.mark((function e(c){var a,r,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c({type:"NEW_PRODUCT_REQUEST"}),a={headers:{"Content-Type":"application/json"}},e.next=5,O.a.put("/api/v1/products/create",t,a);case 5:r=e.sent,s=r.data,c({type:te,payload:s}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),c({type:ae,payload:e.t0.response.data.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))},encType:"multipart/form-data",children:[Object(q.jsx)("h1",{className:"mb-4",children:"New Product"}),Object(q.jsxs)("div",{className:"form-group",children:[Object(q.jsx)("label",{for:"name_field",children:"Name"}),Object(q.jsx)("input",{type:"text",id:"name_field",className:"form-control",value:s,onChange:function(e){return n(e.target.value)}})]}),Object(q.jsxs)("div",{className:"form-group",children:[Object(q.jsx)("label",{for:"price_field",children:"Price"}),Object(q.jsx)("input",{type:"text",id:"price_field",className:"form-control",value:f,onChange:function(e){return v(e.target.value)}})]}),Object(q.jsxs)("div",{className:"form-group",children:[Object(q.jsx)("label",{for:"description_field",children:"Description"}),Object(q.jsx)("textarea",{className:"form-control",id:"description_field",rows:"8",value:u,onChange:function(e){return p(e.target.value)}})]}),Object(q.jsxs)("div",{className:"form-group",children:[Object(q.jsx)("label",{for:"category_field",children:"Category"}),Object(q.jsx)("select",{className:"form-control",id:"category_field",value:y,onChange:function(e){return S(e.target.value)},children:["Electronics","Food","Male","Female"].map((function(e){return Object(q.jsx)("option",{value:e,children:e},e)}))})]}),Object(q.jsxs)("div",{className:"form-group",children:[Object(q.jsx)("label",{for:"stock_field",children:"Stock"}),Object(q.jsx)("input",{type:"number",id:"stock_field",className:"form-control",value:E,onChange:function(e){return C(e.target.value)}})]}),Object(q.jsxs)("div",{className:"form-group",children:[Object(q.jsx)("label",{for:"seller_field",children:"Seller Name"}),Object(q.jsx)("input",{type:"text",id:"seller_field",className:"form-control",value:P,onChange:function(e){return k(e.target.value)}})]}),Object(q.jsxs)("div",{className:"form-group",children:[Object(q.jsx)("label",{children:"Images"}),Object(q.jsxs)("div",{className:"custom-file",children:[Object(q.jsx)("input",{type:"file",name:"product_images",className:"custom-file-input",id:"customFile",onChange:function(e){var t=Array.from(e.target.files);$([]),D([]),t.forEach((function(e){var t=new FileReader;t.onload=function(){2===t.readyState&&($((function(e){return[].concat(Object(Ze.a)(e),[t.result])})),D((function(e){return[].concat(Object(Ze.a)(e),[t.result])})))},t.readAsDataURL(e)}))},multiple:!0}),Object(q.jsx)("label",{className:"custom-file-label",for:"customFile",children:"Choose Images"})]}),M.map((function(e){return Object(q.jsx)("img",{className:"mt-3 mr-2",src:e,alt:"Image Preview",width:"55",height:"52"},e)}))]}),Object(q.jsx)("button",{id:"login_button",type:"submit",className:"btn btn-block py-3",disabled:!!W,children:"CREATE"})]})})]})})]})]})},tt=c(39),ct=c(93),at=c(94),rt=Object(tt.combineReducers)({products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:case re:return{loading:!0,products:[]};case H:return{loading:!1,products:t.payload.data,productCount:t.payload.productCount,resultsPerPage:t.payload.resultsPerPage};case se:return{loading:!1,products:t.payload};case K:case ne:return{loading:!1,error:t.payload};case ie:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},productDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case X:return Object(a.a)({loading:!0},e);case Z:return{loading:!1,product:t.payload};case ee:return Object(a.a)(Object(a.a)({},e),{},{error:t.payload});case ie:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:case v:case y:return{loading:!0,isAuthenticated:!1};case x:case g:case S:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,isAuthenticated:!0,user:t.payload});case _:return{loading:!1,isAuthenticated:!1,user:null};case E:return Object(a.a)(Object(a.a)({},e),{},{error:t.payload});case f:case N:return Object(a.a)(Object(a.a)({},e),{},{loading:!0,isAuthenticated:!1,user:null,error:t.payload});case w:return{loading:!1,isAuthenticated:!1,user:null,error:t.payload};case D:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:case C:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case F:case R:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,isUpdated:t.payload});case A:case I:return Object(a.a)(Object(a.a)({},e),{},{isUpdated:!1});case T:case P:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,error:t.payload});case D:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[],shippingInfo:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pe:var c=t.payload,r=e.cartItems.find((function(e){return e.product===c.product}));return r?Object(a.a)(Object(a.a)({},e),{},{cartItems:Object(Ze.a)(e.cartItems.map((function(e){return e.product===r.product?c:e})))}):Object(a.a)(Object(a.a)({},e),{},{cartItems:[].concat(Object(Ze.a)(e.cartItems),[c])});case Oe:return Object(a.a)(Object(a.a)({},e),{},{cartItems:e.cartItems.filter((function(e){return e.product!==t.payload}))});case he:return Object(a.a)(Object(a.a)({},e),{},{shippingInfo:t.payload});default:return e}},newOrder:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Pe:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case ke:return{loading:!1,order:t.payload};case Fe:return{loading:!1,error:t.payload};case qe:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},userOrders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ae:return{loading:!0};case Te:return{loading:!1,orders:t.payload};case De:return{loading:!1,error:t.payload};case qe:return{loading:!1,error:null};default:return e}},orderDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{order:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ue:return{loading:!0};case Le:return{loading:!1,order:t.payload};case Me:return{loading:!1,error:t.payload};case qe:return{loading:!1,error:null};default:return e}},newProduct:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ce:return Object(a.a)({loading:!0},e);case te:return{loading:!1,success:t.payload.success,product:t.payload.product};case ae:return Object(a.a)(Object(a.a)({},e),{},{error:t.payload});case ce:return Object(a.a)(Object(a.a)({},e),{},{success:!1});case ie:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}}}),st={cart:{cartItems:localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[],shippingInfo:localStorage.getItem("shippingInfo")?JSON.parse(localStorage.getItem("shippingInfo")):{}}},nt=[ct.a],it=Object(tt.createStore)(rt,st,Object(at.composeWithDevTools)(tt.applyMiddleware.apply(void 0,nt))),lt=c(98);var ot=function(e){var t=e.component,c=Object(lt.a)(e,["component"]),s=Object(b.c)((function(e){return e.auth})),n=s.isAdmin,i=s.isAuthenticated,l=s.loading,o=s.user;return Object(q.jsx)(r.Fragment,{children:!1===l&&Object(q.jsx)(u.b,Object(a.a)(Object(a.a)({},c),{},{render:function(e){return!1===i?Object(q.jsx)(u.a,{to:"/login"}):!0===n&&"admin"!==o.role?Object(q.jsx)(u.a,{to:"/"}):Object(q.jsx)(t,Object(a.a)({},e))}}))})},dt=c(95);var jt=function(){var e=Object(r.useState)(""),t=Object(d.a)(e,2),c=t[0],a=t[1];return Object(r.useEffect)((function(){function e(){return(e=Object(o.a)(l.a.mark((function e(){var t,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("/api/v1/stripeapi");case 2:t=e.sent,c=t.data,a(c.stripeApiKey);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}it.dispatch(U()),function(){e.apply(this,arguments)}()}),[]),Object(q.jsx)(j.a,{children:Object(q.jsxs)("div",{className:"App",children:[Object(q.jsx)(z,{}),Object(q.jsxs)("div",{className:"container container-fluid",children:[Object(q.jsx)(u.b,{path:"/",component:be,exact:!0}),Object(q.jsx)(u.b,{path:"/login",component:ve}),Object(q.jsx)(u.b,{path:"/register",component:Ne}),Object(q.jsx)(ot,{path:"/profile",component:ye}),Object(q.jsx)(ot,{path:"/profile/update",component:Se}),Object(q.jsx)(ot,{path:"/password/update",component:we}),Object(q.jsx)(u.b,{path:"/cart",component:_e}),Object(q.jsx)(u.b,{path:"/shipping",component:Re}),Object(q.jsx)(u.b,{path:"/confirm",component:Ie}),Object(q.jsx)(ot,{path:"/success",component:Je}),Object(q.jsx)(ot,{path:"/orders/me",component:Ye,exact:!0}),Object(q.jsx)(ot,{path:"/order/:id",component:Be,exact:!0}),c&&Object(q.jsx)(Ge.Elements,{stripe:Object(dt.a)(c),children:Object(q.jsx)(ot,{path:"/payment",component:We})}),Object(q.jsx)(u.b,{path:"/search/:keyword",component:be}),Object(q.jsx)(u.b,{path:"/product/:id",component:fe,exact:!0})]}),Object(q.jsx)(ot,{path:"/dashboard",isAdmin:!0,component:Ke,exact:!0}),Object(q.jsx)(ot,{path:"/admin/products",isAdmin:!0,component:Xe,exact:!0}),Object(q.jsx)(ot,{path:"/admin/product",isAdmin:!0,component:et,exact:!0}),Object(q.jsx)(G,{})]})})},ut=c(96),bt={timeout:5e3,position:m.b.BOTTOM_CENTER,transition:m.c.SCALE};n.a.render(Object(q.jsx)(b.a,{store:it,children:Object(q.jsx)(m.a,Object(a.a)(Object(a.a)({template:ut.a},bt),{},{children:Object(q.jsx)(jt,{})}))}),document.getElementById("root"))}},[[157,1,2]]]);
//# sourceMappingURL=main.af1519b5.chunk.js.map